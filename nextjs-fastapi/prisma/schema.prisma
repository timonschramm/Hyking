generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model HikingTrail {
    id               Int     @id @default(autoincrement())
    title            String
    teaserText       String  @map("teaser_text")
    descriptionShort String  @map("description_short")
    descriptionLong  String  @map("description_long")
    categoryName     String  @map("category_name")
    categoryId       Int     @map("category_id")
    difficulty       Int
    landscapeRating  Int     @map("landscape_rating")
    experienceRating Int     @map("experience_rating")
    length           Int
    ascent           Int
    descent          Int
    durationMin      Float   @map("duration_min")
    minAltitude      Int     @map("min_altitude")
    maxAltitude      Int     @map("max_altitude")
    pointLat         Float   @map("point_lat")
    pointLon         Float   @map("point_lon")
    isWinter         Boolean @map("is_winter")
    isClosed         Boolean @map("is_closed")
    primaryRegion    String  @map("primary_region")
    primaryImageId   String? @map("primary_image_id")
    imageIds         String  @map("image_ids") // TODO: JSON array of image IDs pay attention to the format 
}

model User {
    id               Int      @id @default(autoincrement())
    age              Int
    imageUrl         String?
    gender           String?
    location         String?
    experienceLevel  Int // difficutly x experienceRating
    preferredPace    String?
    //   preferredDistance String[] // metrics to come distance
    // prefferedElevation ?
    hobbies          String[]
    dogFriendly      Boolean?
    transportation   String?
    spotifyConnected Boolean  @default(false)
    topArtists       Artist[]
}

model Artist {
    id     Int     @id @default(autoincrement())
    name   String
    image  String
    userId Int
    user   User    @relation(fields: [userId], references: [id])
    genres Genre[] @relation("ArtistGenres")
}

model Genre {
    id      Int      @id @default(autoincrement())
    name    String
    artists Artist[] @relation("ArtistGenres")
}
